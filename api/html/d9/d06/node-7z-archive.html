<!-- HTML header for doxygen 1.9.7-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Bearsampp: node-7z-archive</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
        <!-- ... other metadata & script includes ... -->
        <script type="text/javascript" src="../../doxygen-awesome-darkmode-toggle.js"></script>
        <script type="text/javascript">
            DoxygenAwesomeDarkModeToggle.init()
        </script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../header-logo.png"/></td>
  <td id="projectalign">
   <div id="projectname"><!-- Bearsampp --><span id="projectnumber">&#160;2024.8.15</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('d9/d06/node-7z-archive.html','../../'); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">node-7z-archive</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href="https://nodei.co/npm/node-7z-archive/"><img src="https://nodei.co/npm/node-7z-archive.png" alt="NPM" class="inline"/></a></p>
<p><a href="https://david-dm.org/techno-express/node-7z-archive"><img src="http://img.shields.io/david/techno-express/node-7z-archive.svg" alt="Dependencies Status" style="pointer-events: none;" class="inline"/></a> <a href="https://github.com/techno-express/node-7z-archive"><img src="https://github.com/techno-express/node-7z-archive/workflows/Node.js%20CI/badge.svg" alt="Node.js CI" style="pointer-events: none;" class="inline"/></a> <a href="https://codecov.io/gh/techno-express/node-7z-archive"><img src="https://codecov.io/gh/techno-express/node-7z-archive/branch/master/graph/badge.svg?token=WGQxlF48sk" alt="codecov" style="pointer-events: none;" class="inline"/></a> <a href="https://codeclimate.com/github/techno-express/node-7z-archive/maintainability"><img src="https://api.codeclimate.com/v1/badges/28d7f386668a12f3ca84/maintainability" alt="Maintainability" class="inline"/></a><a href="https://www.npmjs.org/package/node-7z-archive"><img src="http://img.shields.io/npm/v/node-7z-archive.svg" alt="Release" style="pointer-events: none;" class="inline"/></a></p>
<blockquote class="doxtable">
<p>&zwj;ESM front-end to 7-Zip, featuring alternative full 7z CLI tool, binaries for <b>Linux</b>, <b>Windows</b>, <b>Mac OSX</b>, seamlessly create 7zip SFX self extracting archives targeting different platforms. </p>
</blockquote>
<h1><a class="anchor" id="usage-7"></a>
Usage</h1>
<p>This library use <em>Promises</em>, it's API is consistent with standard use:</p>
<div class="fragment"><div class="line">import { fullArchive } from &#39;node-7z-archive&#39;;</div>
<div class="line"> </div>
<div class="line">fullArchive(&#39;myArchive.7z&#39;, &#39;destination&#39;, { p: &#39;myPassword&#39; } /* 7z options/switches */)</div>
<div class="line">// Equivalent to `on(&#39;data&#39;, function (files) { // ... });`</div>
<div class="line">.progress(function (files) {</div>
<div class="line">  console.log(&#39;Some files are extracted: %s&#39;, files);</div>
<div class="line">})</div>
<div class="line"> </div>
<div class="line">// When all is done</div>
<div class="line">.then(function () {</div>
<div class="line">  console.log(&#39;Extracting done!&#39;);</div>
<div class="line">})</div>
<div class="line"> </div>
<div class="line">// On error</div>
<div class="line">.catch(function (err) {</div>
<div class="line">  console.error(err);</div>
<div class="line">});</div>
</div><!-- fragment --><p><b>How to create Sfx - Self Extracting Archives.</b></p>
<p>Executables will be built using 7-zip version <em>19.00</em> on <b>Windows OS</b> for Windows targets. <b>Linux</b> and <b>Apple macOS</b> will use 7-zip version <em>17.02</em> for all targets.</p>
<p>import { createSfxWindows, createSfxLinux, createSfxMac } from 'node-7z-archive';</p>
<ul>
<li><b>createSfxWindows</b>(name, files, destination, options, type);</li>
<li><b>createSfxLinux</b>(name, files, destination, options);</li>
<li><b>createSfxMac</b>(name, files, destination, options);</li>
</ul>
<p>Each will in turn call: <b>createSfx</b>(name, files, destination, options, type, platform, extension) as:</p>
<ul>
<li><code>name</code> Application name.</li>
<li><code>files</code> Files to add.</li>
<li><code>destination</code> Application root for the <code>SfxPackages</code> directory, will default to package root.<ul>
<li>All Sfx package archives are stored in the <b>created</b> <code>SfxPackages</code> directory.</li>
<li>The <code>destination</code> directory must already exists.</li>
</ul>
</li>
<li><code>options</code> For installer config file and 7-zip switch options.<ul>
<li><code>{</code></li>
<li><code>title:</code> - Window title message, Default "`name` installation package created on `Current running platform OS`"</li>
<li><code>beginPrompt:</code> - Begin Prompt message, Default "Do you want to install `name`?""
  * `installPath:` - "path_to_extract", Sets the extraction path. The extraction folder will not be deleted after the extraction.
  * `progress:` - Value can be "yes" or "no". Default value is "yes".
  * `runProgram:` - Command for executing. Default value is "setup.exe".
  * Substring &lt;tt&gt;% % T&lt;/tt&gt; will be replaced with path to temporary folder,
  * where files were extracted
  * &lt;tt&gt;directory:&lt;/tt&gt; - Directory prefix for &lt;tt&gt;RunProgram&lt;/tt&gt;. Default value is &lt;tt&gt;.\\&lt;/tt&gt;
  * &lt;tt&gt;executeFile:&lt;/tt&gt; Name of file for executing
  * &lt;tt&gt;executeParameters:&lt;/tt&gt; Parameters for &lt;tt&gt;ExecuteFile&lt;/tt&gt;
  * &lt;tt&gt;}&lt;/tt&gt;

 * &lt;tt&gt;type&lt;/tt&gt; Application type &lt;tt&gt;gui&lt;/tt&gt; or &lt;tt&gt;console&lt;/tt&gt;. Default &lt;tt&gt;gui&lt;/tt&gt;. Only &lt;tt&gt;console&lt;/tt&gt; possible on &lt;strong&gt;Linux&lt;/strong&gt; and &lt;strong&gt;Mac&lt;/strong&gt; OS.
 * &lt;tt&gt;platform&lt;/tt&gt; What platform application targeting? Either &lt;tt&gt;win32&lt;/tt&gt;, &lt;tt&gt;darwin&lt;/tt&gt;, or &lt;tt&gt;linux&lt;/tt&gt;.
 * &lt;tt&gt;extension&lt;/tt&gt; Binary extension name.

@section installation-11 Installation


This package will download the 7zip binaries at install time. Host system does not need to have 7zip installed or in PATH.

The binaries will be downloaded from:
&lt;blockquote&gt;&amp;zwj;On Linux - &lt;a href="<a href="https://github.com/techno-express/p7zip/actions/runs/401873413">https://github.com/techno-express/p7zip/actions/runs/401873413</a>" &gt;&lt;img src="<a href="https://github.com/techno-express/p7zip/workflows/Release/badge.svg">https://github.com/techno-express/p7zip/workflows/Release/badge.svg</a>" alt="Release"/&gt;&lt;/a&gt; compiled and available at &lt;a href="<a href="https://github.com/techno-express/p7zip/releases/">https://github.com/techno-express/p7zip/releases/</a>" &gt;releases&lt;/a&gt; previously https://sourceforge.net/projects/p7zip.
&lt;/blockquote&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&amp;zwj;On Windows - https://www.7-zip.org/download.html.
&lt;/blockquote&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&amp;zwj;On Mac OSX - &lt;a href="<a href="https://github.com/techno-express/p7zip/actions/runs/401873413">https://github.com/techno-express/p7zip/actions/runs/401873413</a>" &gt;&lt;img src="<a href="https://github.com/techno-express/p7zip/workflows/Release/badge.svg">https://github.com/techno-express/p7zip/workflows/Release/badge.svg</a>" alt="Release"/&gt;&lt;/a&gt; compiled and available at &lt;a href="<a href="https://github.com/techno-express/p7zip/releases/">https://github.com/techno-express/p7zip/releases/</a>" &gt;releases&lt;/a&gt; previously https://rudix.org/.
&lt;/blockquote&gt;&lt;/blockquote&gt;
@icode{shell} 
npm install --save node-7z-archive
@endicode 

@section cli-1 CLI


For using full &lt;strong&gt;7zip&lt;/strong&gt; from command line without installation package.

@icode{shell} 
npm install -g node-7z-archive
@endicode 

Will have **&lt;tt&gt;createArchive&lt;/tt&gt;, &lt;tt&gt;deleteArchive&lt;/tt&gt;, &lt;tt&gt;extractArchive&lt;/tt&gt;, &lt;tt&gt;fullArchive&lt;/tt&gt;, &lt;tt&gt;listArchive&lt;/tt&gt;, &lt;tt&gt;renameArchive&lt;/tt&gt;, &lt;tt&gt;testArchive&lt;/tt&gt;, &lt;tt&gt;updateArchive&lt;/tt&gt;**, **&lt;tt&gt;createSfx&lt;/tt&gt;** available globally. To always see available commands, and binary location type:

@icode{shell} 
7zip
@endicode 

Outputs:

@icode{md} 
Full 7zip Console Commands.

 ESM front-end to 7-Zip, featuring alternative full 7z CLI tools, binaries for Linux, Windows, Mac OSX, seamlessly create 7zip SFX self extracting archives targeting different platforms.

 **Commands**

 Adds files to archive.
 Usage: `createArchive` archivePath files ...options

 Deletes files from archive.
 Usage: `deleteArchive` archivePath files ...options

 Extracts files from an archive to the current directory or to the output directory.
 Usage: `extractArchive` archivePath destination ...options

 Extracts files from an archive with their full paths in the current directory, or in an output directory
 Usage: `fullArchive` archivePath destination ...options

 Extracts only the selected files from an archive to the current directory, or in an output directory
 Usage: `onlyArchive` archivePath destination files ...options'

 Lists contents of archive.
 Usage: `listArchive` archivePath ...options

 Renames files in archive.
 Usage: `renameArchive` archivePath file pairs ...options

 Tests archive files.
 Usage: `testArchive` archivePath ...options

 Update older files in the archive and add files that are not already in the archive.
 Usage: `updateArchive` archivePath files ...options

 Create an Sfx - self extracting installation package for targeted platform.
 Usage: `createSfx` platform packageName files --dir [save/to] --gui | --console ...options

-----------------------------------------------------------------
 The `7z` and `7za` binary on your system is located in directory: ...\...\node-7z-archive\binaries\...
@endicode 

&lt;blockquote&gt;&amp;zwj;____This package is a rewrite of &lt;a href="<a href="https://github.com/techno-express/node-7z-forall">https://github.com/techno-express/node-7z-forall</a>" &gt;node-7z-forall&lt;/a&gt;____. The original author has removed the version it was a fork of &lt;a href="<a href="https://github.com/quentinrossetti/node-7z">https://github.com/quentinrossetti/node-7z</a>" &gt;node-7z&lt;/a&gt;. The methods are still backwards compatible with previous naming of &lt;tt&gt;add&lt;/tt&gt;, &lt;tt&gt;delete&lt;/tt&gt;, &lt;tt&gt;extract&lt;/tt&gt;, &lt;tt&gt;extractFull&lt;/tt&gt;, &lt;tt&gt;list&lt;/tt&gt;, &lt;tt&gt;rename&lt;/tt&gt;, &lt;tt&gt;test&lt;/tt&gt;, &lt;tt&gt;update&lt;/tt&gt;.
&lt;/blockquote&gt;&lt;/blockquote&gt;
@section api-4 API


&lt;blockquote&gt;&amp;zwj;See the &lt;a href="<a href="http://sevenzip.sourceforge.jp/chm/cmdline/index.htm">http://sevenzip.sourceforge.jp/chm/cmdline/index.htm</a>" &gt;7-Zip documentation&lt;/a&gt; Or &lt;a href="<a href="https://www.dotnetperls.com/7-zip-examples">https://www.dotnetperls.com/7-zip-examples</a>" &gt;7 Zip Command Line Examples</li>
</ul>
</li>
</ul>
<p>for the full list of usages and options (<b>switches</b>). </p>
<blockquote class="doxtable">
<p>&zwj;The type of the list of files can be either <em>String</em> or <em>Array</em>. </p>
</blockquote>
<p><b>import SevenZip from 'node-7z-archive';</b></p>
<p><b>const { SevenZip } = require('node-7z-archive');</b></p>
<p><em>By method name:</em> <b>import { createArchive, deleteArchive, extractArchive, fullArchive, listArchive, renameArchive, testArchive, updateArchive } from 'node-7z-archive';</b></p>
<p>_____Options:_____ 7-Zip Switches, use without initial &lsquo;&rsquo;-'`.</p>
<div class="fragment"><div class="line">-- : Stop switches and @listfile parsing</div>
<div class="line">-ai[r[-|0]]{@listfile|!wildcard} : Include archives</div>
<div class="line">-ax[r[-|0]]{@listfile|!wildcard} : eXclude archives</div>
<div class="line">-ao{a|s|t|u} : set Overwrite mode</div>
<div class="line">-an : disable archive_name field</div>
<div class="line">-bb[0-3] : set output log level</div>
<div class="line">-bd : disable progress indicator</div>
<div class="line">-bs{o|e|p}{0|1|2} : set output stream for output/error/progress line</div>
<div class="line">-bt : show execution time statistics</div>
<div class="line">-i[r[-|0]]{@listfile|!wildcard} : Include filenames</div>
<div class="line">-m{Parameters} : set compression Method</div>
<div class="line">  -mmt[N] : set number of CPU threads</div>
<div class="line">  -mx[N] : set compression level: -mx1 (fastest) ... -mx9 (ultra)</div>
<div class="line">-o{Directory} : set Output directory</div>
<div class="line">-p{Password} : set Password</div>
<div class="line">-r[-|0] : Recurse subdirectories</div>
<div class="line">-sa{a|e|s} : set Archive name mode</div>
<div class="line">-scc{UTF-8|WIN|DOS} : set charset for console input/output</div>
<div class="line">-scs{UTF-8|UTF-16LE|UTF-16BE|WIN|DOS|{id}} : set charset for list files</div>
<div class="line">-scrc[CRC32|CRC64|SHA1|SHA256|*] : set hash function for x, e, h commands</div>
<div class="line">-sdel : delete files after compression</div>
<div class="line">-seml[.] : send archive by email</div>
<div class="line">-sfx[{name}] : Create SFX archive</div>
<div class="line">-si[{name}] : read data from stdin</div>
<div class="line">-slp : set Large Pages mode</div>
<div class="line">-slt : show technical information for l (List) command</div>
<div class="line">-snh : store hard links as links</div>
<div class="line">-snl : store symbolic links as links</div>
<div class="line">-sni : store NT security information</div>
<div class="line">-sns[-] : store NTFS alternate streams</div>
<div class="line">-so : write data to stdout</div>
<div class="line">-spd : disable wildcard matching for file names</div>
<div class="line">-spe : eliminate duplication of root folder for extract command</div>
<div class="line">-spf : use fully qualified file paths</div>
<div class="line">-ssc[-] : set sensitive case mode</div>
<div class="line">-sse : stop archive creating, if it can&#39;t open some input file</div>
<div class="line">-ssw : compress shared files</div>
<div class="line">-stl : set archive timestamp from the most recently modified file</div>
<div class="line">-stm{HexMask} : set CPU thread affinity mask (hexadecimal number)</div>
<div class="line">-stx{Type} : exclude archive type</div>
<div class="line">-t{Type} : Set type of archive</div>
<div class="line">-u[-][p#][q#][r#][x#][y#][z#][!newArchiveName] : Update options</div>
<div class="line">-v{Size}[b|k|m|g] : Create volumes</div>
<div class="line">-w[{path}] : assign Work directory. Empty path means a temporary directory</div>
<div class="line">-x[r[-|0]]{@listfile|!wildcard} : eXclude filenames</div>
<div class="line">-y : assume Yes on all queries</div>
</div><!-- fragment --><h2><a class="anchor" id="createarchivefilepath-files-options"></a>
<code>createArchive</code>(filepath, files, options)</h2>
<p><b>Arguments</b></p><ul>
<li><code>filepath</code> Path to the archive you want to create.</li>
<li><code>files</code> The file list to add.</li>
<li><code>options</code> An object of options (7-Zip switches).</li>
</ul>
<p><b>Progress</b></p><ul>
<li><code>files</code> A array of all the added files. The <code>/</code> character is used as a path separator on every platform.</li>
</ul>
<p><b>Error</b></p><ul>
<li><code>err</code> An Error object.</li>
</ul>
<h2><a class="anchor" id="deletearchivefilepath-files-options"></a>
<code>deleteArchive</code>(filepath, files, options)</h2>
<p><b>Arguments</b></p><ul>
<li><code>filepath</code> Path to the archive you want to delete files from.</li>
<li><code>files</code> The file list to delete.</li>
<li><code>options</code> An object of options (7-Zip switches).</li>
</ul>
<p><b>Error</b></p><ul>
<li><code>err</code> An Error object.</li>
</ul>
<h2><a class="anchor" id="extractarchivefilepath-dest-options"></a>
<code>extractArchive</code>(filepath, dest, options)</h2>
<p><b>Arguments</b></p><ul>
<li><code>filepath</code> The path to the archive you want to extract.</li>
<li><code>dest</code> Where to extract the archive.</li>
<li><code>options</code> An object of options.</li>
</ul>
<p><b>Progress</b></p><ul>
<li><code>files</code> A array of all the extracted files <em>AND</em> directories. The <code>/</code> character is used as a path separator on every platform.</li>
</ul>
<p><b>Error</b></p><ul>
<li><code>err</code> An Error object.</li>
</ul>
<h2><a class="anchor" id="fullarchivefilepath-dest-options"></a>
<code>fullArchive</code>(filepath, dest, options)</h2>
<p><b>Arguments</b></p><ul>
<li><code>filepath</code> The path to the archive you want to extract.</li>
<li><code>dest</code> Where to extract with full paths, the archive (creates folders for you).</li>
<li><code>options</code> An object of options.</li>
</ul>
<p><b>Progress</b></p><ul>
<li><code>files</code> A array of all the extracted files <em>AND</em> directories. The <code>/</code> character is used as a path separator on every platform.</li>
</ul>
<p><b>Error</b></p><ul>
<li><code>err</code> An Error object.</li>
</ul>
<h2><a class="anchor" id="listarchivefilepath-options"></a>
<code>listArchive</code>(filepath, options)</h2>
<p><b>Arguments</b></p><ul>
<li><code>filepath</code> The path to the archive you want to analyze, list contents of archive.</li>
<li><code>options</code> An object of options.</li>
</ul>
<p><b>Progress</b></p><ul>
<li><code>files</code> A array of objects of all the extracted files <em>AND</em> directories. The <code>/</code> character is used as a path separator on every platform. Object's properties are: <code>date</code>, <code>attr</code>, <code>size</code> and <code>name</code>.</li>
</ul>
<p><b>Then - Resolved</b></p><ul>
<li><code>spec</code> An object of tech spec about the archive. Properties are: <code>path</code>, <code>type</code>, <code>method</code>, <code>physicalSize</code> and <code>headersSize</code> (Some of them may be missing with non-7z archives).</li>
</ul>
<p><b>Error</b></p><ul>
<li><code>err</code> An Error object.</li>
</ul>
<h2><a class="anchor" id="onlyarchivefilepath-dest-files-options"></a>
<code>onlyArchive</code>(filepath, dest, files, options)</h2>
<p><b>Arguments</b></p><ul>
<li><code>filepath</code> The path to the archive you want to extract selected files from.</li>
<li><code>dest</code> Where to extract with full paths, the archive (creates folders for you).</li>
<li><code>files</code> What files to extract, will overwrite if file exits.</li>
<li><code>options</code> An object of options.</li>
</ul>
<p><b>Progress</b></p><ul>
<li><code>files</code> A array of all the extracted files <em>AND</em> directories. The <code>/</code> character is used as a path separator on every platform.</li>
</ul>
<p><b>Error</b></p><ul>
<li><code>err</code> An Error object.</li>
</ul>
<h2><a class="anchor" id="renamearchivefilepath-files-options"></a>
<code>renameArchive</code>(filepath, files, options)</h2>
<p><b>Arguments</b></p><ul>
<li><code>filepath</code> The path to the archive that has the file to rename.</li>
<li><code>files</code> The file list in pairs to rename in archive.</li>
<li><code>options</code> An object of options.</li>
</ul>
<p><b>Progress</b></p><ul>
<li><code>files</code> A array of files renamed.</li>
</ul>
<p><b>Error</b></p><ul>
<li><code>err</code> An Error object.</li>
</ul>
<h2><a class="anchor" id="testarchivefilepath-options"></a>
<code>testArchive</code>(filepath, options)</h2>
<p><b>Arguments</b></p><ul>
<li><code>filepath</code> The path to the archive you want to analyze, test integrity of archive.</li>
<li><code>options</code> An object of options.</li>
</ul>
<p><b>Progress</b></p><ul>
<li><code>files</code> A array of all the tested files. The <code>/</code> character is used as a path separator on every platform.</li>
</ul>
<p><b>Error</b></p><ul>
<li><code>err</code> An Error object.</li>
</ul>
<h2><a class="anchor" id="updatearchivefilepath-files-options"></a>
<code>updateArchive</code>(filepath, files, options)</h2>
<p><b>Arguments</b></p><ul>
<li><code>filepath</code> Path to the archive you want to update.</li>
<li><code>files</code> The file list to update.</li>
<li><code>options</code> An object of options (7-Zip switches).</li>
</ul>
<p><b>Progress</b></p><ul>
<li><code>files</code> A array of all the updated files. The <code>/</code> character is used as a path separator on every platform.</li>
</ul>
<p><b>Error</b></p><ul>
<li><code>err</code> An Error object.</li>
</ul>
<h1><a class="anchor" id="advanced-usage"></a>
Advanced usage</h1>
<h2><a class="anchor" id="compression-method"></a>
Compression method</h2>
<p>With the <code>7z</code> binary compression is made like that:</p>
<div class="fragment"><div class="line"># adds *.exe and *.dll files to solid archive archive.7z using LZMA method</div>
<div class="line"># with 2 MB dictionary and BCJ filter.</div>
<div class="line">7z a archive.7z *.exe -m0=BCJ -m1=LZMA:d=21</div>
</div><!-- fragment --><p>With <b>node-7z-archive</b> you can translate it like that:</p>
<div class="fragment"><div class="line">import { createArchive } from &#39;node-7z-archive&#39;;</div>
<div class="line"> </div>
<div class="line">createArchive(&#39;archive.7z&#39;, &#39;*.exe&#39;, {</div>
<div class="line">  m0: &#39;=BCJ&#39;,</div>
<div class="line">  m1: &#39;=LZMA:d=21&#39;</div>
<div class="line">})</div>
<div class="line">.then(function () {</div>
<div class="line">  // Do stuff...</div>
<div class="line">});</div>
</div><!-- fragment --><h2><a class="anchor" id="createarchive-deletearchive-and-updatearchive-multiple-files"></a>
createArchive, deleteArchive and updateArchive multiple files</h2>
<p>When adding, deleting or updating archives you can pass either a string or an array as second parameter (the <code>files</code> parameter).</p>
<div class="fragment"><div class="line">import { deleteArchive } from &#39;node-7z-archive&#39;;</div>
<div class="line"> </div>
<div class="line">deleteArchive(&#39;bigArchive.7z&#39;, [ &#39;file1&#39;, &#39;file2&#39; ])</div>
<div class="line">.then(function () {</div>
<div class="line">  // Do stuff...</div>
<div class="line">});</div>
</div><!-- fragment --><h2><a class="anchor" id="wildcards-1"></a>
Wildcards</h2>
<p>You can extract with wildcards to specify one or more file extensions. To do this add a <code>wildcards</code> attribute to the <code>options</code> object. The <code>wildcard</code> attribute takes an <em>Array</em> as value. In this array each item is a wildcard.</p>
<div class="fragment"><div class="line">import { fullArchive } from &#39;node-7z-archive&#39;;</div>
<div class="line"> </div>
<div class="line">fullArchive(&#39;archive.zip&#39;, &#39;destination/&#39;, {</div>
<div class="line">  wildcards: [ &#39;*.txt&#39;, &#39;*.md&#39; ], // extract all text and Markdown files</div>
<div class="line">  r: true // in each subfolder too</div>
<div class="line">})</div>
<div class="line">.progress(function (files) {</div>
<div class="line">  // Do stuff with files...</div>
<div class="line">})</div>
<div class="line">.then(function () {</div>
<div class="line">  // Do stuff...</div>
<div class="line">});</div>
</div><!-- fragment --><p>Note that the <code>r</code> (for recursive) attribute is passed in this example.</p>
<h2><a class="anchor" id="raw-inputs"></a>
Raw inputs</h2>
<p>Sometimes you just want to use the lib as the original command line. For instance you want to apply to switches with different values (e.g.: <code>-i!*.jpg -i!*.png</code> to target only two types of extensions).</p>
<p>In such cases the default behavior of the <code>options</code> argument is not enough. You can use the custom <code>raw</code> key in your <code>options</code> object and pass it an <em>Array</em> of values.</p>
<div class="fragment"><div class="line">import { listArchive } from &#39;node-7z-archive&#39;;</div>
<div class="line"> </div>
<div class="line">listArchive(&#39;archive.zip&#39;, {</div>
<div class="line">  raw: [ &#39;-i!*.jpg&#39;, &#39;-i!*.png&#39; ], // only images</div>
<div class="line">})</div>
<div class="line">.progress(function (files) {</div>
<div class="line">  // Do stuff with files...</div>
<div class="line">})</div>
<div class="line">.then(function () {</div>
<div class="line">  // Do stuff...</div>
<div class="line">});</div>
</div><!-- fragment --><hr  />
 </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0 </li>
  </ul>
</div>
</body>
</html>
