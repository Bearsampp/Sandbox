<!-- HTML header for doxygen 1.9.7-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: node-sys</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
        <!-- ... other metadata & script includes ... -->
        <script type="text/javascript" src="../../doxygen-awesome-darkmode-toggle.js"></script>
        <script type="text/javascript">
            DoxygenAwesomeDarkModeToggle.init()
        </script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../header-logo.png"/></td>
  <td id="projectalign">
   <div id="projectname"><!-- My Project --><span id="projectnumber">&#160;2024.7.26</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('d2/da1/md_E_1_2Bearsampp-development_2sandbox_2core_2libs_2nodejs_2node__modules_2node-sys_2README.html','../../'); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">node-sys</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="node-sys"></a> <a href="https://nodei.co/npm/node-sys/"><img src="https://nodei.co/npm/node-sys.png" alt="NPM" class="inline"/></a></p>
<p><a href="https://david-dm.org/techno-express/node-sys"><img src="http://img.shields.io/david/techno-express/node-sys.svg" alt="Dependencies Status" style="pointer-events: none;" class="inline"/></a> <a href="https://github.com/techno-express/node-sys/actions"><img src="https://github.com/techno-express/node-sys/workflows/Node.js%20CI/badge.svg" alt="Node.js CI" style="pointer-events: none;" class="inline"/></a> <a href="https://codecov.io/gh/techno-express/node-sys"><img src="https://codecov.io/gh/techno-express/node-sys/branch/master/graph/badge.svg?token=5Mi0USRYsY" alt="codecov" style="pointer-events: none;" class="inline"/></a> <a href="https://codeclimate.com/github/techno-express/system-install/maintainability"><img src="https://api.codeclimate.com/v1/badges/54f89d3ae887724ceb93/maintainability" alt="Maintainability" class="inline"/></a> <a href="https://www.npmjs.org/package/node-sys"><img src="http://img.shields.io/npm/v/node-sys.svg" alt="Release" style="pointer-events: none;" class="inline"/></a></p>
<blockquote class="doxtable">
<p>&zwj;Universal package installer, get the command for managing packages, or auto install any package, using one command for all platforms. E.g. <code>sudo apt-get install</code> <em>!#$software</em> for Debian-based systems, would be <code>node-sys</code> <em>!#$software</em>. </p>
</blockquote>
<p>This is mainly focused on initial installation of an Node JS packages that needs additional host software installed. This allows pre and post script install routines. Can also automate the installation of macOS Brew, and Windows Chocolatey package managers.</p>
<p><code>node-sys</code> will try to find which system packaging is installed for the given <code>process.platform</code>. If no system package manager is found, &lsquo;'No package manager found!&rsquo;` is returned.</p>
<p>A <code>spawning</code> cross-platform version of Node's child_process.<code>spawn</code> that returns a <b>Promise</b>, with additions:</p>
<ul>
<li>easily execute as administrator, on <code>Windows</code> a pop up <b>UAC</b> window will appear.</li>
<li>pass callbacks, for <code>stderr</code> and <code>stdout</code> <b>on</b> <code>data</code> events, any <em>returns</em> will be the <b>reject/resolve</b> result.</li>
<li><code>fork</code> another <b>script</b>, a <em>Node Js</em> module instance, for additional sub processing base on <code>stderr</code> or <code>stdout</code> events.<ul>
<li>pass additional callback for the <code>message</code> event.</li>
</ul>
</li>
</ul>
<p>A series of general use case <code>strick</code> type checkers.</p>
<h1><a class="anchor" id="install-5"></a>
Install</h1>
<div class="fragment"><div class="line">npm install node-sys</div>
</div><!-- fragment --><h1><a class="anchor" id="usage-10"></a>
Usage</h1>
<div class="fragment"><div class="line">import { packager } from &#39;node-sys&#39;;</div>
<div class="line"> </div>
<div class="line">/**</div>
<div class="line"> * Gets the system package manager install command.</div>
<div class="line"> *</div>
<div class="line"> * - &#39;brew install&#39; on OS X if homebrew is installed.</div>
<div class="line"> * - &#39;sudo apt-get install&#39; on debian platforms.</div>
<div class="line"> * - &#39;sudo yum install&#39; on red hat platforms.</div>
<div class="line"> * - &#39;System OS package manager not found&#39; if no package manager is found.</div>
<div class="line"> *</div>
<div class="line"> * Throws if `process.platform` is none of darwin, freebsd, linux, sunos or win32.</div>
<div class="line"> */</div>
<div class="line">const sys = packager();</div>
<div class="line"> </div>
<div class="line">console.log(&#39;Do system OS require sudo? &#39; + sys.sudo);</div>
<div class="line">console.log(&#39;The system OS install command: &#39; + sys.command);</div>
<div class="line">console.log(&#39;To fully install a `pandoc` package run: &#39; + sys.installer + &#39; pandoc&#39;);</div>
</div><!-- fragment --><h2><a class="anchor" id="install-vim-package-onto-host-using-systems-default-package-manager"></a>
Install <code>vim</code> package onto host, using system's default package manager</h2>
<ul>
<li><em>Returns</em> a <code>Promise</code></li>
</ul>
<div class="fragment"><div class="line">import { installer } from  &#39;node-sys&#39;;</div>
<div class="line"> </div>
<div class="line">// Progress callback for any output doing installation.</div>
<div class="line">// Any value returned in `callback` will be the final resolved output result.</div>
<div class="line">const onprogress = (object) =&gt; {</div>
<div class="line">  console.log(object.output);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">installer(&#39;vim&#39;, onprogress)</div>
<div class="line">.then(function(data){</div>
<div class="line">    // returns installation output</div>
<div class="line">    console.log(data);</div>
<div class="line">})</div>
<div class="line">.catch(function(err) {</div>
<div class="line">    console.log(err);</div>
<div class="line">});</div>
</div><!-- fragment --><h2><a class="anchor" id="api---spawningcommand-arguments-progressoptions-options"></a>
API - <code>spawning</code>(command, arguments, progressOptions, options)</h2>
<p>&lsquo;import { spawning } from 'node-sys&rsquo;;`</p>
<p><code>Spawning</code> takes an additional argument, <code>progressOptions</code>, its <a href="https://nodejs.org/api/child_process.html#child_process_child_process_spawn_command_args_options"><code>options</code></a> are the same as those of <code>child_process.spawn</code> plus:</p>
<div class="fragment"><div class="line">sudo: boolean, // run as administrator</div>
<div class="line">fork: string, //  execute an additional module, of Node Js process `fork` IPC communication channel.</div>
<div class="line">onerror: callable, // callback for `stderr.on(&#39;data&#39;)` event.</div>
<div class="line">onprogress: callable, // callback for `stdout.on(&#39;data&#39;)` event.</div>
<div class="line">onmessage: callable, // callback for `on(&#39;message&#39;)` for `fork` event.</div>
</div><!-- fragment --><p><code>Spawning</code> returns a promise whose result will be any output or any data return in the progress callback.</p>
<p><em>The progress callback will receive an object with these properties:</em></p>
<ul>
<li><code>spawn:</code> <em>Object</em> - Spawned child process instance handle.<ul>
<li>Access the child process object.</li>
</ul>
</li>
<li><code>output:</code> <em>String</em> - Output from stdout.<ul>
<li>Output can be altered and if returned will replace the otherwise resolved result.</li>
</ul>
</li>
<li><code>fork:</code> <em>Object</em> - An additional <a href="https://nodejs.org/api/child_process.html#child_process_child_process_fork_modulepath_args_options">forked</a> Node Js process handle, IPC communication channel.<ul>
<li>Execute additional processing base off of sub child process output, with module a script.</li>
</ul>
</li>
</ul>
<p>If there's an error running the child process, received data on stderr, or errors in progress callback, <code>spawning</code> rejects the returned promise.</p>
<h2><a class="anchor" id="general-strict-type-check-functions"></a>
General *<code>strict</code>* type *<code>check</code>* functions</h2>
<div class="fragment"><div class="line">import {</div>
<div class="line">  isArray, // True if value is an Array, otherwise false.</div>
<div class="line">  isUndefined, // True if the value is undefined, otherwise false.</div>
<div class="line">  isBuffer, // True if value is a Buffer, otherwise false.</div>
<div class="line">  isArrayBuffer, // True if value is an ArrayBuffer, otherwise false.</div>
<div class="line">  isString, // True if value is a String, otherwise false.</div>
<div class="line">  isNumber, // True if value is a Number, otherwise false.</div>
<div class="line">  isObject, // True if value is an Object, otherwise false.</div>
<div class="line">  isObjectOnly, // True if value is a `Object` only, otherwise false, not an Array, Function, or any other type.</div>
<div class="line">  isBlob, // True if value is a Blob, otherwise false.</div>
<div class="line">  isFunction, // True if value is a Function, otherwise false.</div>
<div class="line">  isDate, // True if value is a Date, otherwise false.</div>
<div class="line">  isStream, // True if value is a Stream, otherwise false.</div>
<div class="line">  isNull, // True if value is a null, otherwise false.</div>
<div class="line">  isBool, // True if value is a boolean, otherwise false.</div>
<div class="line">  isWindows, // True if platform a Windows OS, otherwise false.</div>
<div class="line">  isLinux, // True if platform a Linux OS, otherwise false.</div>
<div class="line">  isMac, // True if platform a Apple macOS, otherwise false.</div>
<div class="line">} from &#39;node-sys&#39;;</div>
</div><!-- fragment --><h2><a class="anchor" id="find-any-executable"></a>
Find any executable</h2>
<p>The <code>sync</code> from <a href="https://github.com/npm/node-which">node-which</a> has been exported to <code>where</code>.</p>
<div class="fragment"><div class="line">import { where } from &#39;node-sys&#39;;</div>
<div class="line"> </div>
<div class="line">// Like the unix `which` utility, will be a `string`, or `null` for not found.</div>
<div class="line">let found = where(&#39;node&#39;);</div>
</div><!-- fragment --><h2><a class="anchor" id="use-commonjs-require-like-before-in-esm"></a>
Use CommonJS <code>require</code> like before in ESM</h2>
<div class="fragment"><div class="line">import { require } from &#39;node-sys&#39;;</div>
<div class="line"> </div>
<div class="line">const package = require(&#39;package&#39;);</div>
</div><!-- fragment --><h2><a class="anchor" id="cli-usage"></a>
CLI Usage</h2>
<div class="fragment"><div class="line">npm i -g node-sys</div>
</div><!-- fragment --><p>To display your system package manage command.</p>
<div class="fragment"><div class="line">$ node-sys</div>
<div class="line">brew install</div>
</div><!-- fragment --><p>To actually install an system package.</p>
<div class="fragment"><div class="line">$ node-sys vim</div>
<div class="line">installing...</div>
</div><!-- fragment --><p>To install an System OS package manager.</p>
<ul>
<li>Will install <a href="https://chocolatey.org">chocolatey</a> for <b>Windows OS</b></li>
<li>Will install <a href="http://brew.sh">brew</a> for <b>Apple macOS</b></li>
</ul>
<div class="fragment"><div class="line">$ node-sys -g | --get # or npm run get-installer</div>
<div class="line">...</div>
</div><!-- fragment --><h1><a class="anchor" id="supported-package-managers"></a>
Supported package managers</h1>
<h2><a class="anchor" id="freebsd"></a>
FreeBSD</h2>
<ul>
<li><a href="https://www.freebsd.org/doc/handbook/pkgng-intro.html">pkg</a></li>
<li><a href="https://www.freebsd.org/cgi/man.cgi?query=pkg_add&amp;manpath=FreeBSD+7.2-RELEASE">pkg_add</a></li>
</ul>
<h2><a class="anchor" id="linux"></a>
Linux</h2>
<ul>
<li><a href="https://help.ubuntu.com/community/AptGet/Howto">apt-get</a> - Debian, Ubuntu</li>
<li><a href="https://fedoraproject.org/wiki/Dnf">dnf</a> - fedora</li>
<li><a href="https://wiki.gentoo.org/wiki/Portage">emerge</a> - Gentoo</li>
<li><a href="https://nixos.org/nix/">nix</a> - NixOS</li>
<li><a href="https://wiki.archlinux.org/index.php/pacman">pacman</a> - ArchLinux</li>
<li><a href="https://fedoraproject.org/wiki/Yum">yum</a> - fedora</li>
<li><a href="https://en.opensuse.org/Portal:Zypper">zypper</a> - OpenSUSE</li>
<li><a href="https://github.com/skycocker/chromebrew">chromebrew</a> - Chrome OS</li>
</ul>
<h2><a class="anchor" id="os-x"></a>
OS X</h2>
<ul>
<li><a href="http://brew.sh">brew</a></li>
<li><a href="https://github.com/cmacrae/saveosx">pkgin</a></li>
<li><a href="https://guide.macports.org/#using.port">port</a></li>
</ul>
<h2><a class="anchor" id="solaris"></a>
Solaris</h2>
<ul>
<li><a href="https://docs.oracle.com/cd/E23824_01/html/E21802/gihhp.html">pkg</a></li>
</ul>
<h2><a class="anchor" id="windows-1"></a>
Windows</h2>
<ul>
<li><a href="https://github.com/microsoft/winget-cli">winget</a></li>
<li><a href="https://chocolatey.org">chocolatey</a> </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0 </li>
  </ul>
</div>
</body>
</html>
